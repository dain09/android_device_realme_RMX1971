<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
    Copyright (C) 2024 The RMX1971 Project
    SPDX-License-Identifier: Apache-2.0

    Simplified, organized, and tweaked mixer paths for RMX1971.
-->
<mixer>
    <!--
        ============================================================
        Initial Mixer Values (Defaults)
        ============================================================
    -->
    <ctl name="Voice Rx Device Mute" value="0" />
    <ctl name="Voice Tx Mute" value="0" />

    <!-- Default digital volumes for playback streams (stock is 84) -->
    <ctl name="RX1 Digital Volume" value="84" /> <!-- Earpiece/Headphones Left -->
    <ctl name="RX2 Digital Volume" value="84" /> <!-- Headphones Right -->
    <ctl name="RX3 Digital Volume" value="84" />
    <ctl name="RX4 Digital Volume" value="84" />
    <ctl name="RX5 Digital Volume" value="84" />
    <ctl name="RX6 Digital Volume" value="84" />
    <ctl name="RX7 Digital Volume" value="84" /> <!-- Main Speaker -->

    <!-- Default analog gain for headphones -->
    <ctl name="HPHL Volume" value="9" />
    <ctl name="HPHR Volume" value="9" />

    <!-- Default volumes for capture paths -->
    <ctl name="ADC1 Volume" value="13" />
    <ctl name="ADC2 Volume" value="13" />

    <!--
        ============================================================
        Playback Paths
        ============================================================
    -->

    <!-- Common path for music playback -->
    <path name="deep-buffer-playback">
        <ctl name="PRI_MI2S_RX Audio Mixer MultiMedia1" value="1" />
    </path>

    <!-- Common path for low latency audio (UI sounds, games) -->
    <path name="low-latency-playback">
        <ctl name="PRI_MI2S_RX Audio Mixer MultiMedia5" value="1" />
    </path>

    <!-- Speaker Path -->
    <path name="speaker">
        <path name="deep-buffer-playback" />
        <ctl name="SpkrLeft COMP Switch" value="1" />
        <ctl name="SpkrLeft BOOST Switch" value="1" />
        <!-- TWEAK: Set speaker volume to a safe but loud value (stock is 84) -->
        <ctl name="RX7 Digital Volume" value="89" />
    </path>
    <path name="voice-speaker">
        <path name="speaker" />
    </path>

    <!-- Earpiece Path -->
    <path name="handset">
        <path name="deep-buffer-playback" />
        <!-- TWEAK: Set earpiece volume for clearer calls (stock is 84) -->
        <ctl name="RX1 Digital Volume" value="90" />
        <ctl name="EAR PA Gain" value="POS_6_DB" />
        <ctl name="EAR_S" value="Switch" />
    </path>
    <path name="voice-handset">
        <path name="handset" />
    </path>

    <!-- Wired Headphone/Headset Path -->
    <path name="headphones">
        <path name="deep-buffer-playback" />
        <!-- TWEAK: Boost headphone analog and digital gain -->
        <ctl name="HPHL Volume" value="13" />
        <ctl name="HPHR Volume" value="13" />
        <ctl name="RX1 Digital Volume" value="89" />
        <ctl name="RX2 Digital Volume" value="89" />
        <ctl name="HPHL" value="Switch" />
        <ctl name="HPHR" value="Switch" />
    </path>
    <path name="voice-headphones">
        <path name="headphones" />
    </path>

    <!--
        ============================================================
        Capture Paths
        ============================================================
    -->

    <!-- Common path for audio recording -->
    <path name="audio-record">
        <ctl name="MultiMedia1 Mixer PRI_MI2S_TX" value="1" />
    </path>

    <!-- Main microphone for calls and voice notes -->
    <path name="handset-mic">
        <path name="audio-record" />
        <ctl name="MicBias_V_Switch" value="V_1P80" />
        <ctl name="DEC1 MUX" value="ADC1" />
        <ctl name="ADC1 Volume" value="15" />
    </path>

    <!-- Microphone for video recording (Stereo) -->
    <path name="camcorder-mic">
        <path name="audio-record" />
        <ctl name="MicBias_V_Switch" value="V_1P80" />
        <ctl name="DEC1 MUX" value="ADC2" />
        <ctl name="DEC2 MUX" value="ADC1" />
        <ctl name="ADC1 Volume" value="15" />
        <ctl name="ADC2 Volume" value="15" />
    </path>

    <!-- Microphone for wired headsets -->
    <path name="headset-mic">
        <path name="audio-record" />
        <ctl name="DEC1 MUX" value="ADC2" />
        <ctl name="ADC2 MUX" value="INP2" />
    </path>
</mixer>